:root {
  --fn-app-background: hsl(
    220,
    11%,
    12%
  ); /* slightly darker, crisper contrast */
  --fn-container-background: hsl(220, 11%, 20%); /* deeper container shading */
  --fn-text-color-neutral: hsl(0, 0%, 98%); /* near-white for easier reading */
  --fn-text-color-inverted: hsl(0, 0%, 10%); /* for light surfaces */
  --fn-neutral-element-background: hsl(220, 10%, 27%);
  --fn-neutral-element-background-hover: hsl(220, 10%, 37%);
  --fn-primary-color: hsl(210, 85%, 56%);
  --fn-primary-color-hover: hsl(210, 85%, 62%); /* -new- smoother hover */
  --fn-edge-color: hsl(210, 75%, 70%);
  --fn-edge-color-selected: hsl(116, 100%, 50%);

  // nodes
  --fn-node-handle-source-color: hsl(189, 20%, 55%);
  --fn-node-handle-target-color: hsl(192, 25%, 65%);
  --fn-node-background: hsl(220, 6%, 42%);
  --fn-node-header-color: hsl(220, 5%, 32%);
  --fn-node-border-color: hsl(220, 8%, 45%);
  --fn-node-footer-color: hsl(225, 7%, 70%);
  --fn-node-progress-color: hsl(95, 38%, 46%); /* green-ish progress bar */

  //new

  --fn-surface-elevation-low: hsl(220, 11%, 24%); /* -new-: cards, side-bars */
  --fn-surface-elevation-high: hsl(
    220,
    11%,
    28%
  ); /* -new-: dialogs, pop-overs */

  /* typography */
  --fn-text-color-subtle: hsl(0, 0%, 75%); /* -new-: secondary labels */
  /* interactive neutrals */
  --fn-neutral-element-border: hsla(0, 0%, 100%, 0.06); /* hair-line borders */

  /* micro-interactions */
  --fn-focus-ring: 0 0 0 2px hsla(210, 85%, 56%, 0.6);
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
}

[fn-data-color-theme="classic"] {
  --fn-app-background: hsl(243, 26%, 13%);
  --fn-container-background: hsl(245, 22%, 22%);
  --fn-surface-elevation-low: hsl(220, 11%, 24%);
  --fn-surface-elevation-high: hsl(220, 11%, 28%);
  --fn-text-color-neutral: hsl(0, 0%, 100%);
  --fn-text-color-subtle: hsl(0, 0%, 75%);
  --fn-text-color-neutral-inverted: hsl(0, 0%, 0%);
  --fn-neutral-element-background: hsl(245, 15%, 32%);
  --fn-neutral-element-background-hover: hsl(245, 20%, 50%);
  --fn-neutral-element-border: hsla(0, 0%, 100%, 0.06);
  --fn-primary-color: hsl(189, 100%, 50%);
  --fn-primary-color-hover: hsl(210, 85%, 62%);
  --fn-focus-ring: 0 0 0 2px hsla(210, 85%, 56%, 0.6);
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
  --fn-edge-color: hsl(189, 100%, 70%);
  --fn-edge-color-selected: hsl(76, 92%, 60%);

  // nodes
  --fn-node-handle-source-color: hsl(190, 98%, 49%);
  --fn-node-handle-target-color: hsl(204, 98%, 51%);
  --fn-node-background: hsl(245, 51%, 42%);
  --fn-node-header-color: hsl(245, 51%, 22%);
  --fn-node-border-color: hsl(245, 35%, 35%);
  --fn-node-footer-color: hsl(266, 88%, 35%);
  --fn-node-progress-color: hsl(76, 92%, 50%);
}

[fn-data-color-theme="metal"] {
  /* layout & chrome */
  --fn-app-background: hsl(220, 11%, 12%); /* slightly darker, crisper contrast */
  --fn-container-background: hsl(220, 11%, 20%); /* deeper container shading */
  --fn-surface-elevation-low: hsl(220, 11%, 24%); /* -new-: cards, side-bars */
  --fn-surface-elevation-high: hsl(220, 11%, 28%); /* -new-: dialogs, pop-overs */

  /* typography */
  --fn-text-color-neutral: hsl(0, 0%, 98%); /* near-white for easier reading */
  --fn-text-color-subtle: hsl(0, 0%, 75%); /* -new-: secondary labels */
  --fn-text-color-inverted: hsl(0, 0%, 10%); /* for light surfaces */

  /* interactive neutrals */
  --fn-neutral-element-background: hsl(220, 10%, 27%);
  --fn-neutral-element-background-hover: hsl(220, 10%, 37%);
  --fn-neutral-element-border: hsla(0, 0%, 100%, 0.06); /* hair-line borders */

  /* primary accent (cool steel-blue) */
  --fn-primary-color: hsl(210, 85%, 56%);
  --fn-primary-color-hover: hsl(210, 85%, 62%); /* -new- smoother hover */
  --fn-edge-color: hsl(210, 85%, 56%);
  --fn-edge-color-selected: hsl(95, 100%, 60%);

  /* nodes */
  --fn-node-handle-source-color: hsl(189, 20%, 55%);
  --fn-node-handle-target-color: hsl(192, 25%, 65%);
  --fn-node-background: hsl(220, 6%, 42%);
  --fn-node-header-color: hsl(220, 5%, 32%);
  --fn-node-border-color: hsl(220, 8%, 45%);
  --fn-node-footer-color: hsl(225, 7%, 70%);
  --fn-node-progress-color: hsl(95, 38%, 46%); /* green-ish progress bar */

  /* micro-interactions */
  --fn-focus-ring: 0 0 0 2px hsla(210, 85%, 56%, 0.6);
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
}

[fn-data-color-theme="light"] {
  --fn-app-background: hsl(0, 0%, 98%);
  --fn-container-background: hsl(0, 0%, 100%);
  --fn-surface-elevation-low: hsl(0, 0%, 96%);
  --fn-surface-elevation-high: hsl(0, 0%, 92%);
  --fn-text-color-neutral: hsl(0, 0%, 10%);
  --fn-text-color-subtle: hsl(0, 0%, 40%);
  --fn-text-color-neutral-inverted: hsl(0, 0%, 100%);
  --fn-neutral-element-background: hsl(0, 0%, 92%);
  --fn-neutral-element-background-hover: hsl(0, 0%, 85%);
  --fn-neutral-element-border: hsla(0, 0%, 0%, 0.08);
  --fn-primary-color: hsl(210, 85%, 56%);
  --fn-primary-color-hover: hsl(210, 85%, 62%);
  --fn-focus-ring: 0 0 0 2px hsla(210, 85%, 56%, 0.4);
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
  --fn-edge-color: hsl(210, 85%, 56%);
  --fn-edge-color-selected: hsl(95, 60%, 46%);

  // nodes
  --fn-node-handle-source-color: hsl(190, 98%, 49%);
  --fn-node-handle-target-color: hsl(204, 98%, 51%);
  --fn-node-background: hsl(0, 0%, 98%);
  --fn-node-header-color: hsl(210, 85%, 96%);
  --fn-node-border-color: hsl(210, 70%, 85%);
  --fn-node-footer-color: hsl(210, 85%, 90%);
  --fn-node-progress-color: hsl(95, 38%, 46%);
}

[fn-data-color-theme="solarized"] {
  --fn-app-background: #fdf6e3;
  --fn-container-background: #eee8d5;
  --fn-surface-elevation-low: #e1dbcd;
  --fn-surface-elevation-high: #d8cfc0;
  --fn-text-color-neutral: #657b83;
  --fn-text-color-subtle: #93a1a1;
  --fn-text-color-neutral-inverted: #fdf6e3;
  --fn-neutral-element-background: #eee8d5;
  --fn-neutral-element-background-hover: #e1dbcd;
  --fn-neutral-element-border: #93a1a1;
  --fn-primary-color: #268bd2;
  --fn-primary-color-hover: #2aa198;
  --fn-focus-ring: 0 0 0 2px #268bd2aa;
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
  --fn-edge-color: #268bd2;
  --fn-edge-color-selected: #859900;

  // nodes
  --fn-node-handle-source-color: #b58900;
  --fn-node-handle-target-color: #cb4b16;
  --fn-node-background: #fdf6e3;
  --fn-node-header-color: #93a1a1;
  --fn-node-border-color: #839496;
  --fn-node-footer-color: #839496;
  --fn-node-progress-color: #859900;
}

[fn-data-color-theme="midnight"] {
  --fn-app-background: #0a1026;
  --fn-container-background: #181f3a;
  --fn-surface-elevation-low: #232b4d;
  --fn-surface-elevation-high: #2d3760;
  --fn-text-color-neutral: #e0e6f8;
  --fn-text-color-subtle: #8a99c7;
  --fn-text-color-neutral-inverted: #0a1026;
  --fn-neutral-element-background: #232b4d;
  --fn-neutral-element-background-hover: #2d3760;
  --fn-neutral-element-border: #3a4370;
  --fn-primary-color: #4f5dff;
  --fn-primary-color-hover: #7a8cff;
  --fn-focus-ring: 0 0 0 2px #4f5dffaa;
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
  --fn-edge-color: #4f5dff;
  --fn-edge-color-selected: #00ffb3;

  // nodes
  --fn-node-handle-source-color: #7a8cff;
  --fn-node-handle-target-color: #4f5dff;
  --fn-node-background: #181f3a;
  --fn-node-header-color: #232b4d;
  --fn-node-border-color: #3a4370;
  --fn-node-footer-color: #2d3760;
  --fn-node-progress-color: #00cfff;
}

[fn-data-color-theme="forest"] {
  --fn-app-background: #1a2b1b;
  --fn-container-background: #223d22;
  --fn-surface-elevation-low: #2e4d2e;
  --fn-surface-elevation-high: #3a5c3a;
  --fn-text-color-neutral: #eafbe0;
  --fn-text-color-subtle: #a3cfa3;
  --fn-text-color-neutral-inverted: #1a2b1b;
  --fn-neutral-element-background: #2e4d2e;
  --fn-neutral-element-background-hover: #3a5c3a;
  --fn-neutral-element-border: #4a6a4a;
  --fn-primary-color: #4caf50;
  --fn-primary-color-hover: #81c784;
  --fn-focus-ring: 0 0 0 2px #4caf50aa;
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
  --fn-edge-color: #81c784;
  --fn-edge-color-selected: #b2ff59;

  // nodes
  --fn-node-handle-source-color: #81c784;
  --fn-node-handle-target-color: #388e3c;
  --fn-node-background: #223d22;
  --fn-node-header-color: #2e4d2e;
  --fn-node-border-color: #4a6a4a;
  --fn-node-footer-color: #3a5c3a;
  --fn-node-progress-color: #b2ff59;
}

[fn-data-color-theme="scientific"] {
  --fn-app-background: #f7fafc;
  --fn-container-background: #ffffff;
  --fn-surface-elevation-low: #e9f1fb;
  --fn-surface-elevation-high: #dbeafe;
  --fn-text-color-neutral: #1a202c;
  --fn-text-color-subtle: #4a5568;
  --fn-text-color-neutral-inverted: #ffffff;
  --fn-neutral-element-background: #e9f1fb;
  --fn-neutral-element-background-hover: #dbeafe;
  --fn-neutral-element-border: #b5c6e0;
  --fn-primary-color: #2563eb;
  --fn-primary-color-hover: #0ea5e9;
  --fn-focus-ring: 0 0 0 2px #2563eb88;
  --fn-transition-fast: 120ms ease-out;
  --fn-transition-slow: 240ms ease;
  --fn-edge-color: #2563eb;
  --fn-edge-color-selected: #22d3ee;

  // nodes
  --fn-node-handle-source-color: #0ea5e9;
  --fn-node-handle-target-color: #2563eb;
  --fn-node-background: #f7fafc;
  --fn-node-header-color: #e9f1fb;
  --fn-node-border-color: #b5c6e0;
  --fn-node-footer-color: #dbeafe;
  --fn-node-progress-color: #22d3ee;
}

:root {
  --fn-space-xs: 0.25rem; /* 4px */
  --fn-space-s: 0.5rem; /* 8px */
  --fn-space-m: 1rem; /* 16px */
  --fn-space-l: 2rem; /* 32px */
  --fn-space-xl: 4rem; /* 64px */
  --fn-border-radius-xs: 0.25rem; /* 4px */
  --fn-border-radius-s: 0.5rem; /* 8px */
  --fn-border-radius-m: 1rem; /* 16px */
  --fn-border-radius-l: 2rem; /* 32px */
  --fn-border-radius-xl: 4rem; /* 64px */
  --fn-font-size-xs: 0.75rem; /* 12px */
  --fn-font-size-s: 0.875rem; /* 14px */
  --fn-font-size-m: 1rem; /* 16px */
  --fn-font-size-l: 1.25rem; /* 20px */
  --fn-font-size-xl: 1.5rem; /* 24px */
  --fn-font-size-xxl: 2rem; /* 32px */
}

.m-xs {
  margin: var(--fn-space-xs);
}
.m-s {
  margin: var(--fn-space-s);
}
.m-m {
  margin: var(--fn-space-m);
}
.m-l {
  margin: var(--fn-space-l);
}
.m-xl {
  margin: var(--fn-space-xl);
}

.m-x-xs {
  margin-left: var(--fn-space-xs);
  margin-right: var(--fn-space-xs);
}
.m-x-s {
  margin-left: var(--fn-space-s);
  margin-right: var(--fn-space-s);
}
.m-x-m {
  margin-left: var(--fn-space-m);
  margin-right: var(--fn-space-m);
}
.m-x-l {
  margin-left: var(--fn-space-l);
  margin-right: var(--fn-space-l);
}
.m-x-xl {
  margin-left: var(--fn-space-xl);
  margin-right: var(--fn-space-xl);
}
.m-y-xs {
  margin-top: var(--fn-space-xs);
  margin-bottom: var(--fn-space-xs);
}
.m-y-s {
  margin-top: var(--fn-space-s);
  margin-bottom: var(--fn-space-s);
}
.m-y-m {
  margin-top: var(--fn-space-m);
  margin-bottom: var(--fn-space-m);
}
.m-y-l {
  margin-top: var(--fn-space-l);
  margin-bottom: var(--fn-space-l);
}
.m-y-xl {
  margin-top: var(--fn-space-xl);
  margin-bottom: var(--fn-space-xl);
}

:root {
  --containerboarderradius: 1rem;
  --funcnodes-z-index: 1000;
}

.bg1 {
  background-color: var(--fn-app-background);
}
.bg2 {
  background-color: var(--fn-container-background);
}

.funcnodescontainer {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  & code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
      monospace;
  }
}
.funcnodesreactflowcontainer {
  width: 100%;
  height: 100%;
  flex-grow: 1;
  z-index: var(--funcnodes-z-index);
  background-color: var(--fn-app-background); // Dark background color
  position: relative;
  display: flex;
  flex-direction: column;
  color: var(--fn-text-color-neutral);
  overflow: hidden;

  & * {
    box-sizing: border-box;
  }
}

.funcnodesreactflowbody {
  flex-grow: 1;
  position: relative;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  padding: var(--fn-space-s);
  position: relative;
}

// .reactflowlayer styles moved to component-specific ReactFlowLayer.scss

.vscrollcontainer {
  overflow-y: auto;
  overflow-x: hidden;
  flex-grow: 1;
  padding: var(--fn-space-s);
  box-sizing: border-box;
}

.workerselect {
  max-width: 140px;
}
.workerselectoption {
  &.selected {
    color: var(--fn-text-color-neutral);
  }
  &.active {
    color: green;
  }
  &.inactive {
    color: red;
  }
}

.funcnodesflaotingmenu {
  position: absolute;
  right: 0;
  padding: 10px;
  z-index: 2;
  display: flex;
  flex-direction: row;
  margin-right: 10px;
}

.FuncnodesApp {
  height: 100%;
  width: 100%;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
